@model PadelSimple.Web.Models.Admin.AdminUserEditVm
@{
    ViewData["Title"] = "Gebruiker bewerken";
    var selected = Model.SelectedRoles.Any() ? Model.SelectedRoles : Model.Roles;
}

<h2>Gebruiker bewerken</h2>

@if (TempData["Ok"] != null)
{
    <div class="alert alert-success">@TempData["Ok"]</div>
}

<form method="post" asp-action="Edit">
    @Html.AntiForgeryToken()
    <div asp-validation-summary="All" class="text-danger"></div>

    <input type="hidden" name="Id" value="@Model.Id" />

    <div class="mb-2">
        <label class="form-label">Email</label>
        <input class="form-control" value="@Model.Email" disabled />
    </div>

    <div class="mb-2">
        <label class="form-label">UserName</label>
        <input class="form-control" value="@Model.UserName" disabled />
    </div>

    <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" name="IsMember" value="true" @(Model.IsMember ? "checked" : "") />
        <label class="form-check-label">Is Member</label>
    </div>

    <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" name="IsBlocked" value="true" @(Model.IsBlocked ? "checked" : "") />
        <label class="form-check-label">Is Blocked</label>
    </div>

    <div class="mb-3">
        <label class="form-label">Rollen</label>
        @foreach (var r in Model.AllRoles)
        {
            var isChecked = selected.Contains(r);
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="SelectedRoles" value="@r" @(isChecked ? "checked" : "") />
                <label class="form-check-label">@r</label>
            </div>
        }
    </div>

    <button class="btn btn-primary" type="submit">Opslaan</button>
    <a class="btn btn-secondary" asp-action="Index">Terug</a>
</form>
